(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var a,o=n(0),r=n.n(o),c=n(7),i=n.n(c),u=(n(14),n(3)),l=n.n(u),s=n(4),d=n(2),f=n(8),v=(n(16),n(5)),p=n(1),m={parseQueryString:function(e){var t=Object.create(null);return"string"!==typeof e?t:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var n=e.replace(/\+/g," ").split("="),a=n.shift(),o=n.length>0?n.join("="):void 0;a=decodeURIComponent(a),o=void 0===o?null:decodeURIComponent(o),void 0===t[a]?t[a]=o:Array.isArray(t[a])?t[a].push(o):t[a]=[t[a],o]})),t):t}},x="x6r5q8bswp39z2z";function k(){return m.parseQueryString(window.location.hash).access_token}function h(e){return{id:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),text:e}}function E(e){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){t.current.focus()})),r.a.createElement("div",{className:"row"},r.a.createElement("input",{className:e.task.done?"done":"",ref:t,value:e.task.text,onChange:function(t){e.task.text=t.target.value,e.onChange(e.task)},onKeyDown:function(t){"Enter"===t.key&&t.ctrlKey?e.onDone():"Enter"===t.key?e.onNextOrCreate():"ArrowUp"===t.key?e.onPrev():"ArrowDown"===t.key&&e.onNext()}}))}function w(e){return r.a.createElement("div",{className:"row "+(e.task.done?"done":"")},r.a.createElement("div",{onClick:e.onActivate,className:e.task.done?"done":""},e.task.text),r.a.createElement("div",{onClick:e.onDelete},"x"))}function b(){return(b=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(v.a)("tasks"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return r.a.createElement("div",{className:"row"},r.a.createElement("div",{onClick:e.onUpload},"Upload"),r.a.createElement("div",{onClick:e.onDownload},"Download"))}function y(e){var t=Object(o.useState)("-"),n=Object(d.a)(t,2),c=n[0],i=n[1];return r.a.createElement("div",{className:"row"},r.a.createElement("div",null,"Dropbox:"),r.a.createElement("div",null,"Status: ",c),r.a.createElement("div",null,"isauth:",k()?"yes":"no"),r.a.createElement("div",null,r.a.createElement("a",{href:new p.Dropbox({clientId:x}).getAuthenticationUrl(window.location)},"Dropbox auth")),r.a.createElement("div",{onClick:function(){i("-"),new p.Dropbox({accessToken:"_gazk0s4vNsAAAAAAAAHhyoNC4CMtgX-dfDZfRlWT1jnCDEeuUTA2bUTlBGZc-bd"}).filesUpload({contents:JSON.stringify(a),path:"/tTask.json",mode:{".tag":"overwrite"}}).then((function(e){i("put ok")}))}},"Put"),r.a.createElement("div",{onClick:function(){i("-"),new p.Dropbox({accessToken:k()}).filesDownload({path:"/tTask.json"}).then((function(t){t.fileBlob.text().then((function(t){e.onGet(JSON.parse(t)),i("get ok")}))}))}},"Get"))}var A=function(){return b.apply(this,arguments)}();var O=function(){var e=Object(o.useState)(void 0),t=Object(d.a)(e,2),n=t[0],c=t[1],i=n||[],u=Object(o.useState)(void 0),l=Object(d.a)(u,2),f=l[0],p=l[1];void 0===n&&A.then((function(e){Array.isArray(e)||(e=[h("")]),c(e)})),a=n;var m=function(e){Object(v.b)("tasks",e),c(e)},x=function(e,t){for(var n=0;n<i.length&&i[n].id!==f;++n);if(e&&n>0&&p(i[n-1].id),!e)if(n<i.length-1)p(i[n+1].id);else if(t){var a=h("");m(i.concat([a])),p(a.id)}};return r.a.createElement("div",{className:"App"},"tTask",r.a.createElement(r.a.Fragment,null,i.map((function(e){return e.id===f?r.a.createElement(E,{key:e.id,task:e,onChange:function(e){m(Object(s.a)(i))},onNext:function(){return x(!1,!1)},onPrev:function(){return x(!0,!1)},onNextOrCreate:function(){return x(!1,!0)},onDone:function(){e.done=!e.done,m(Object(s.a)(i))}}):r.a.createElement(w,{key:e.id,task:e,onActivate:function(){return p(e.id)},onDelete:function(){m(i.filter((function(t){return t.id!==e.id})))}})}))),r.a.createElement(g,{onDownload:function(){!function(e,t){var n=document.createElement("a");if(n.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),n.setAttribute("download",e),document.createEvent){var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!0),n.dispatchEvent(a)}else n.click()}("content.json",JSON.stringify(n))},onUpload:function(){var e=document.createElement("input");e.type="file",e.onchange=function(e){var t=e.target.files[0],n=new FileReader;n.readAsText(t),n.onload=function(e){m(JSON.parse(e.target.result))}},e.click()}}),r.a.createElement(y,{onGet:function(e){m(e)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,n){e.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.d2dadf3f.chunk.js.map